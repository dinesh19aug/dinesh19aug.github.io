
<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.53" />

    
    
    

<title>How to send email in PhoneGap (Android) using a gmail account • A Morsel Of Code</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to send email in PhoneGap (Android) using a gmail account"/>
<meta name="twitter:description" content="For the last one month, I have been working on an android app for a grocery store.
I have been using PhoneGap to develop the solution as the client wanted both Android and Iphone version.
I have tried building the app in native Android but going through the hassle of designing css was just too much for me and plus I did not had time to learn Iphone development.
There was a short learning phase for PhoneGap and the results were awesome."/>

<meta property="og:title" content="How to send email in PhoneGap (Android) using a gmail account" />
<meta property="og:description" content="For the last one month, I have been working on an android app for a grocery store.
I have been using PhoneGap to develop the solution as the client wanted both Android and Iphone version.
I have tried building the app in native Android but going through the hassle of designing css was just too much for me and plus I did not had time to learn Iphone development.
There was a short learning phase for PhoneGap and the results were awesome." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2012/09/23/how-to-send-email-in-phonegap-android-using-a-gmail-account/" /><meta property="article:published_time" content="2012-09-23T05:26:13&#43;00:00"/>
<meta property="article:modified_time" content="2012-09-23T05:26:13&#43;00:00"/>



<link rel="canonical" href="/2012/09/23/how-to-send-email-in-phonegap-android-using-a-gmail-account/" />

<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="/favicon.ico" type="image/x-icon">





<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allerta+Stencil">

<link rel="stylesheet" href="/css/w3.css" />


<link rel="stylesheet" href="/css/style.css" />







  
  
</head>
<body }

class="w3-light-grey">



    <header id="header">
      
          
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-47631412-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());

  gtag('config', 'UA-47631412-1');
</script>

<div class="w3-right ">
<div class="w3-bar w3-light-grey  ">
  
  <span class="w3-bar-item w3-left " id="google_translate_element"></span>
<script>
  function googleTranslateElementInit() {
    new google.translate.TranslateElement(
      {
          pageLanguage: 'en'
        , layout: google.translate.TranslateElement.FloatPosition.TOP_RIGHT
        , multilanguagePage: true
      }
      , 'google_translate_element'
    );
  }
</script>
<script async src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>


  
       <a href="javascript:void(0)" class="w3-bar-item w3-button w3-hover-green" title="Search" onclick="displaysearch()"><i class="fa fa-search"></i></a>
  
      <span class="w3-hide-small">

        <a href="mailto:dinesh19aug@gmail.com" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-envelope"></i></a>

        <a href="https://stackoverflow.com/users/1172194/dinesh-arora" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-stack-overflow"></i></a>

        <a href="https://twitter.com/dinesh19aug" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-twitter"></i></a>

        <a href="https://github.com/dinesh19aug" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-github"></i></a>

        <a href="https://www.linkedin.com/in/dinesharora" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-linkedin"></i></a>

        <a href="https://github.com/dinesh19aug" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-github"></i></a>

      </span>

</div>
</div>
<br>
  <div class="w3-content">

  <div class="w3-container w3-center w3-padding-32 w3-hide-small">
      <h1 class="w3-xxxlarge w3-text-blue w3-wide w3-allerta  " style="text-shadow:1px 1px 0 #444" ><u>
      
         A Morsel Of Code - One Byte At A Time
      
</u></h1>

    </div>
    <div class="w3-content w3-center">
    <div class="w3-bar w3-light-grey w3-border">
    <a href="/" class="w3-bar-item w3-button w3-large w3-green"><i class="fa fa-home"></i></a>
    
      <a href="/categories/" class="w3-bar-item w3-button w3-hide-small">Categories</a>
    
      <a href="/tags/" class="w3-bar-item w3-button w3-hide-small">Tags</a>
    


    <a href="javascript:void(0)" class="w3-bar-item w3-button w3-right w3-hide-large w3-hide-medium" onclick="displaymenu()">&#9776;</a>
  </div>

<div id="mobilemenu" class="w3-bar-block w3-light-grey w3-hide w3-hide-large w3-hide-medium">
  
      <a href="/categories/" class="w3-bar-item w3-button">Categories</a>
      
      <a href="/tags/" class="w3-bar-item w3-button">Tags</a>
      

</div>
</div>
</div>
<script>
function displaymenu() {
    var x = document.getElementById("mobilemenu");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else {
        x.className = x.className.replace(" w3-show", "");
    }
}
</script>



  <div id="searchOverlay" class="overlay w3-hide">
    <span class="closebtn" onclick="displaysearch()" title="Close Overlay">×</span>
    <div class="overlay-content">
        <form action="/search/">
          <input type="text" placeholder="Search.." name="q">
          <button type="submit"><i class="fa fa-search"></i></button>
        </form>
    </div>
  </div>

  <script>
  function displaysearch() {
    var x = document.getElementById("searchOverlay");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else {
        x.className = x.className.replace(" w3-show", "");
    }

  }


  </script>





    <hr class="headfoot">

      
    </header>

<div class="w3-content">

      <div>
        <div id="content" >
          
    

 
     


  <div class="w3-content w3-card-4" >
    
    <header class="w3-container w3-center w3-padding-32">
      <h1>How to send email in PhoneGap (Android) using a gmail account</h1>

      <div >
        <p> 2012-09-23 
          
             <code> 1264 words  </code>
             <code> 6 mins read </code>
          
        </p>
        <div >
            
              <a class="w3-btn w3-small w3-round w3-green" href="/categories/tech-notes/"> Tech Notes </a>
            
          </div>
       
        
      </div>
    </header>

   
    
    <div class="w3-container">
      
        

        
        

        
          <p>For the last one month, I have been working on an <a href="http://developer.android.com/index.html" title="Android">android</a> app for a grocery store.</p>

<p>I have been using <a href="http://phonegap.com/" title="Phonegap">PhoneGap</a> to develop the solution as the client wanted both Android and Iphone version.</p>

<p>I have tried building the app in native Android but going through the hassle of designing css was just too much for me and plus I did not had time to learn Iphone development.</p>

<p>There was a short learning phase for PhoneGap and the results were awesome. However there was one area where I spent hours and ran into several issues. The customer wanted a Feedback section where the user could fill in feedback in a TextArea and hits Submit, which would send an email to customer in the background.</p>

<p>Now PhoneGap has plugin called <a href="https://github.com/phonegap/phonegap-plugins/tree/master/Android/WebIntent/" title="WebIntent">WebIntent</a> which will open a Email composer where you have to hit Send. This is not what I wanted as customer would have to hit a SUBMIT button, which would open a Email composer window on Phone and then hit Send again. Also this solution also meant user&#8217;s email address would be displayed to Grocery store.</p>

<p>I wanted to send the feedback in the background anonymously to Grocery store. I decided to use Java email Api and create a dummy email for grocery store which would be used to send feedback to the Grocery store&#8217;s main email address.</p>

<p>I did not find any good tutorial except <a title="this" href="http://smus.com/android-phonegap-plugins/" target="_blank">this</a> one. This is an incomplete tutorial and did not tell you how to create Java classes for Plugin or that you had to make entries in config.xml. So here is the actual tutorial.</p>

<p>Before I begin, let me tell you that I am using latest version of Cordova 2.1.0. This is will not work for Cordova 1.9.0(I will explain the issue below).</p>

<p>Step 1: Add cordova-2.1.0.jar in the project classpath</p>

<p>Step 2: Add cordova-2.1.0.js in the assets/www/js folder.</p>

<p>Step 3: create a new Java class called <strong>EmailComoposer.java</strong></p>

<pre><span style="color:#000000;"><em>package com.dinesh.pb;</em></span>
<span style="color:#000000;"><em>import org.apache.cordova.api.Plugin;</em></span>
<span style="color:#000000;"><em>import org.apache.cordova.api.PluginResult;</em></span>
<span style="color:#000000;"><em>import org.apache.cordova.api.PluginResult.Status;</em></span>
<span style="color:#000000;"><em>import org.json.JSONArray;</em></span>
<span style="color:#000000;"><em>import org.json.JSONException;</em></span>
<span style="color:#000000;"><em>import android.annotation.SuppressLint;</em></span>
<span style="color:#000000;"><em>import android.content.Intent;</em></span>
<span style="color:#000000;"><em>import android.text.Html;</em></span>
<span style="color:#000000;"><em>import com.dinesh.pb.utility.Mail;</em></span>
<span style="color:#000000;"><em> </em></span>
<span style="color:#000000;"><em>@SuppressLint("ParserError")</em></span>
<span style="color:#000000;"><em>public class EmailComposer extends Plugin {</em></span>
<span style="color:#000000;"><em>public final String ACTION_SEND_EMAIL = "sendEmail";</em></span>

<span style="color:#000000;"><em> @Override</em></span>
<span style="color:#000000;"><em> public PluginResult execute(String action, JSONArray arg1, String callbackId) {</em></span>
<span style="color:#000000;"><em> PluginResult result = new PluginResult(Status.INVALID_ACTION);</em></span>
<span style="color:#000000;"><em> if (action.equals(ACTION_SEND_EMAIL)) {</em></span>
<span style="color:#000000;"><em> try {</em></span>
<span style="color:#000000;"><em> String message = arg1.getString(0);</em></span>
<span style="color:#000000;"><em> this.sendEmailViaGmail(message);</em></span>
<span style="color:#000000;"><em> result = new PluginResult(Status.OK);</em></span>

<span style="color:#000000;"><em> }</em></span>
<span style="color:#000000;"><em> catch (JSONException ex) {</em></span>
<span style="color:#000000;"><em> result = new PluginResult(Status.JSON_EXCEPTION, ex.getMessage());</em></span>
<span style="color:#000000;"><em> } catch (Exception e) {</em></span>
<span style="color:#000000;"><em> // TODO Auto-generated catch block</em></span>
<span style="color:#000000;"><em> e.printStackTrace();</em></span>
<span style="color:#000000;"><em> } </em></span>
<span style="color:#000000;"><em> }</em></span>
<span style="color:#000000;"><em> return result;</em></span>
<span style="color:#000000;"><em> }</em></span>

<span style="color:#000000;"><em> private void sendEmailViaGmail(String body) throws Exception{</em></span>
<span style="color:#000000;"><em> Mail m = new Mail("From_email_address@gmail.com", "your password");</em></span>
<span style="color:#000000;"><em> String[] toArr = {"TO_EMAIL_ADDRESS@gmail.com"};</em></span>
<span style="color:#000000;"><em> m.set_to(toArr);</em></span>
<span style="color:#000000;"><em> m.set_from("FROM_EMAIL_ADDRESS@gmail.com");</em></span>
<span style="color:#000000;"><em> m.set_body(body);</em></span>
<span style="color:#000000;"><em> m.set_subject("TEST SUBJECT");</em></span>
<span style="color:#000000;"><em> boolean sendFlag = m.send();</em></span>

<span style="color:#000000;"><em> }</em></span>

<span style="color:#000000;"><em>}</em></span></pre>

<p>Step 4. copy this Mail.java in package of your choice. My package name is com.dinesh.pb.utility.</p>

<pre>package com.dinesh.pb.utility;
import java.util.Date;
import java.util.Properties;
import javax.activation.CommandMap;
import javax.activation.DataHandler;
import javax.activation.DataSource;
import javax.activation.FileDataSource;
import javax.activation.MailcapCommandMap;
import javax.mail.BodyPart;
import javax.mail.Multipart;
import javax.mail.PasswordAuthentication;
import javax.mail.Session;
import javax.mail.Transport;
import javax.mail.internet.InternetAddress;
import javax.mail.internet.MimeBodyPart;
import javax.mail.internet.MimeMessage;
import javax.mail.internet.MimeMultipart;
public class Mail extends javax.mail.Authenticator { 
 private String _user; 
 private String _pass; 

 private String[] _to; 
 private String _from; 

 private String _port; 
 private String _sport; 

 private String _host; 

 private String _subject; 
 private String _body; 

 private boolean _auth; 

 private boolean _debuggable; 

 private Multipart _multipart; 

 public Mail() { 
 _host = "smtp.gmail.com"; // default smtp server 
 _port = "465"; // default smtp port 
 _sport = "465"; // default socketfactory port 

 _user = ""; // username 
 _pass = ""; // password 
 _from = ""; // email sent from 
 _subject = ""; // email subject 
 _body = ""; // email body 

 _debuggable = false; // debug mode on or off - default off 
 _auth = true; // smtp authentication - default on 

 _multipart = new MimeMultipart(); 

 // There is something wrong with MailCap, javamail can not find a handler for the multipart/mixed part, so this bit needs to be added. 
 MailcapCommandMap mc = (MailcapCommandMap) CommandMap.getDefaultCommandMap(); 
 mc.addMailcap("text/html;; x-java-content-handler=com.sun.mail.handlers.text_html"); 
 mc.addMailcap("text/xml;; x-java-content-handler=com.sun.mail.handlers.text_xml"); 
 mc.addMailcap("text/plain;; x-java-content-handler=com.sun.mail.handlers.text_plain"); 
 mc.addMailcap("multipart/*;; x-java-content-handler=com.sun.mail.handlers.multipart_mixed"); 
 mc.addMailcap("message/rfc822;; x-java-content-handler=com.sun.mail.handlers.message_rfc822"); 
 CommandMap.setDefaultCommandMap(mc); 
 } 

 public Mail(String user, String pass) { 
 this(); 

 _user = user; 
 _pass = pass; 
 } 

 public boolean send() throws Exception { 
 Properties props = _setProperties(); 

 if(!_user.equals("") && !_pass.equals("") && _to.length &gt; 0 && !_from.equals("") && !_subject.equals("") && !_body.equals("")) { 
 Session session = Session.getInstance(props, this); 

 MimeMessage msg = new MimeMessage(session); 

 msg.setFrom(new InternetAddress(_from)); 

 InternetAddress[] addressTo = new InternetAddress[_to.length]; 
 for (int i = 0; i &lt; _to.length; i++) { 
 addressTo[i] = new InternetAddress(_to[i]); 
 } 
 msg.setRecipients(MimeMessage.RecipientType.TO, addressTo); 

 msg.setSubject(_subject); 
 msg.setSentDate(new Date()); 

 // setup message body 
 BodyPart messageBodyPart = new MimeBodyPart(); 
 messageBodyPart.setText(_body); 
 _multipart.addBodyPart(messageBodyPart); 

 // Put parts in message 
 msg.setContent(_multipart); 

 // send email 
 Transport.send(msg); 

 return true; 
 } else { 
 return false; 
 } 
 } 

 public void addAttachment(String filename) throws Exception { 
 BodyPart messageBodyPart = new MimeBodyPart(); 
 DataSource source = new FileDataSource(filename); 
 messageBodyPart.setDataHandler(new DataHandler(source)); 
 messageBodyPart.setFileName(filename); 

 _multipart.addBodyPart(messageBodyPart); 
 } 

 public String[] get_to() {
 return _to;
 }
public void set_to(String[] _to) {
 this._to = _to;
 }
public String get_from() {
 return _from;
 }
public void set_from(String _from) {
 this._from = _from;
 }
public String get_body() {
 return _body;
 }
public void set_body(String _body) {
 this._body = _body;
 }
@Override 
 public PasswordAuthentication getPasswordAuthentication() { 
 return new PasswordAuthentication(_user, _pass); 
 } 

 private Properties _setProperties() { 
 Properties props = new Properties(); 

 props.put("mail.smtp.host", _host); 

 if(_debuggable) { 
 props.put("mail.debug", "true"); 
 } 

 if(_auth) { 
 props.put("mail.smtp.auth", "true"); 
 } 

 props.put("mail.smtp.port", _port); 
 props.put("mail.smtp.socketFactory.port", _sport); 
 props.put("mail.smtp.socketFactory.class", "javax.net.ssl.SSLSocketFactory"); 
 props.put("mail.smtp.socketFactory.fallback", "false"); 

 return props; 
 }
public String get_subject() {
 return _subject;
 }
public void set_subject(String _subject) {
 this._subject = _subject;
 }

 // more of the getters and setters ….. 
 }</pre>

<p>Step 5: Update the config.xml and add the details about the new plugin class EmailComposer.java.</p>

<p>Mine looks like this &#8211; <plugin name=&#8221;EmailComposer&#8221; value=&#8221;com.dinesh.pb.EmailComposer&#8221;/>. Please update the package name value=&#8221;com.dinesh.pb.EmailComposer&#8221; with your package path.</p>

<pre>&lt;?xml version="1.0" encoding="utf-8"?&gt; 
&lt;cordova&gt;
    &lt;access origin="http://127.0.0.1*"/&gt; &lt;!-- allow local pages --&gt; 
    &lt;access origin=".*"/&gt; 
    &lt;log level="DEBUG"/&gt;
    &lt;preference name="useBrowserHistory" value="false" /&gt;
    &lt;preference name="exit-on-suspend" value="false" /&gt;
&lt;plugins&gt;
    &lt;plugin name="App" value="org.apache.cordova.App"/&gt;
    &lt;plugin name="Geolocation" value="org.apache.cordova.GeoBroker"/&gt;
    &lt;plugin name="Device" value="org.apache.cordova.Device"/&gt;
    &lt;plugin name="Accelerometer" value="org.apache.cordova.AccelListener"/&gt;
    &lt;plugin name="Compass" value="org.apache.cordova.CompassListener"/&gt;
    &lt;plugin name="Media" value="org.apache.cordova.AudioHandler"/&gt;
    &lt;plugin name="Camera" value="org.apache.cordova.CameraLauncher"/&gt;
    &lt;plugin name="Contacts" value="org.apache.cordova.ContactManager"/&gt;
    &lt;plugin name="File" value="org.apache.cordova.FileUtils"/&gt;
    &lt;plugin name="NetworkStatus" value="org.apache.cordova.NetworkManager"/&gt;
    &lt;plugin name="Notification" value="org.apache.cordova.Notification"/&gt;
    &lt;plugin name="Storage" value="org.apache.cordova.Storage"/&gt;
    &lt;plugin name="Temperature" value="org.apache.cordova.TempListener"/&gt;
    &lt;plugin name="FileTransfer" value="org.apache.cordova.FileTransfer"/&gt;
    &lt;plugin name="Capture" value="org.apache.cordova.Capture"/&gt;
    &lt;plugin name="Battery" value="org.apache.cordova.BatteryListener"/&gt;
    &lt;plugin name="SplashScreen" value="org.apache.cordova.SplashScreen"/&gt;
    &lt;plugin name="Echo" value="org.apache.cordova.Echo" /&gt;
    &lt;plugin name="EmailComposer" value="com.dinesh.pb.EmailComposer"/&gt;
 &lt;/plugins&gt;
&lt;/cordova&gt;</pre>

<p>Step 6: Create a new javascript file called email.js</p>

<pre>var EmailComposer = function(){};
/*
cordova.addConstructor(function() {
    cordova.addPlugin("emailcomposer", new EmailComposer());
});
*/
EmailComposer.prototype.send = function (message){
console.log("Calling the send message");
cordova.exec(function(){ alert('feedback sent')}, 
    function(){ alert('feedback was not sent')}, 
    'EmailComposer', 
    'sendEmail', 
    [message]);
}
function sendFeedback(){
    window.EmailComposer.prototype.send("My message body");
}</pre>

<p>Now as I mentioned earlier that I am using cordova-2.1.0.js/jar file there are subtle differences between the latest version and older version (cordova-1.9.0).  If you are using older version you will need to uncomment the section <strong>cordova.addConstructor</strong>above and instead of calling</p>

<pre>window.EmailComposer.prototype.send("My message body");
Use this:</pre>

<p>window.plugins.emailComposer.prototype.send(body);</p>

<p>If you do not use it then you may get error which would say that window.plugins is not defined. If you run into such issues use firebug and see what variables are defined under &#8220;window&#8221; variable.</p>

<p>Notice the method called &#8220;feedback()&#8221;. I am simply passing the user text as message body by capturing the input from user feedback TextBox. For simplicity I have just pasted a default Email body.</p>

<p>Step 7: Include the js file in your index.html file</p>

<p>// &lt;!&#8211;[CDATA[</p>

<p>javascript&#8221; src=&#8221;js/email.js&#8221;&gt;</p>

<p>// ]]&gt;</p>

<p>Step 8: Include cordova js file in index.html</p>

<p>// &lt;!&#8211;[CDATA[</p>

<p>javascript&#8221; src=&#8221;js/cordova-2.1.0.js&#8221;&gt;</p>

<p>// ]]&gt;</p>

<p>Step 9: Add three jar files for Java mail api &#8211; namely, Activation.jar, Mail.jar and Additional.jar in the libs folder and add it to the classpath. You can these files <a title="here" href="http://www.oracle.com/technetwork/java/javamail/index-138643.html" target="_blank">here</a>.</p>

<p>Cheers!!</p>

<p>UPDATE: A lot of people commented that they could not find mail.jar,additional.jar and actication.jar so I have uploaded them on 4shared.com. You can download them from the link below.</p>

<p><a href="http://www.4shared.com/file/3iu1WV2m/activation.html" title="Activation.jar">Activation.jar</a></p>

<p><a href="http://www.4shared.com/file/u5lOPzdR/additionnal.html" title="Additional.jar">Additional.jar</a></p>

<p><a href="http://www.4shared.com/file/Kp0FRxHl/mail.html" title="Mail.jar">Mail.jar</a></p>

                 
                
         
      
    </div>

    
   

    <div class="w3-container">
    	
      
     
	</div>



  


    
    
    
    
    <br>  
</div>



<div class="w3-container w3-card-2 w3-black">
<div class="w3-row">
  <div class="w3-col l2 m2 s12 w3-center">
  
    <img src="https://avatars3.githubusercontent.com/u/1176242?s=460&amp;v=4" width ="100px" class="w3-circle w3-center w3-margin-top w3-margin-bottom" alt="author" >
   
  </div>
  <div class="w3-col l10 m10 s12 ">
  <div class = "w3-container w3-margin-top">
    
    
  </div>
  </div>
  </div>
</div>

      
    <div class="w3-content" > 
      <div class="w3-bar w3-section">
	     
	      <a  href="/2013/03/07/using-multiple-profiles-in-maven-eclipse/" class="w3-btn w3-text-indigo w3-hover-green">
	          &#10094; Using multiple profiles in Maven &#43; Eclipse
	      </a>
	    
	      <a class="w3-btn w3-right w3-text-indigo w3-hover-green" href="/2012/07/13/share-any-folder-on-mac-via-built-in-web-server/">
	       How To Share Any Folder On Mac Via Built-in Web Server &#10095;
	      </a>
  	  </div>
    </div>
	
 

  
  
  

      <div id="wrapads">
        <div class="adBanner">
         
        </div>
       </div>
      
      <div id="allowads" class="allowads-overlay">
  
        <div class="allowads-overlay-content">
        <div class="w3-panel w3-pink w3-large">
        

         <p> We notice you're using an adblocker.  If you like our webite please keep us running by whitelisting this site in your ad blocker. We’re serving quality, related ads only. Thank you!</p>
         
          <div class="w3-btn w3-green"  onclick="closeOverlay()">I've whitelisted your website.</div><br>
          <div class="w3-button w3-small"  onclick="closeOverlay()">Not now</div>
        </div>
        </div>
      </div>

      <script>
      function closeOverlay() {
        document.getElementById("allowads").style.width = "0%";
        document.getElementById("wrapads").style.height="1px";
      }

      function detectads() {
      var h = document.getElementById("wrapads").clientHeight;

      if (h==0){ document.getElementById("allowads").style.width = "100%";
      }
      }
      

     
      
      </script>
        </div>
        
          <script>
  shareurl=encodeURIComponent(location.protocol + '//' + location.host + location.pathname);
  sharetitle=encodeURIComponent(document.title);
    
  </script>
<div class="icon-bar">
<script>
document.write( '<a href="javascript:bookmark();" class="bookmark w3-tooltip"><i class="fa fa-bookmark"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green ">Bookmark this page</span></a> ');

document.write( '<a href="http://www.facebook.com/sharer.php?u='+shareurl+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="facebook w3-tooltip"><i class="fa fa-facebook "></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Facebook</span></a> ');

document.write( '<a href="https://twitter.com/share?url='+shareurl+'&amp;text='+sharetitle+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="twitter w3-tooltip"><i class="fa fa-twitter"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Twitter</span></a> ');
document.write( '<a href="https://plus.google.com/share?url='+shareurl+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="google w3-tooltip"><i class="fa fa-google"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Google Plus</span></a>');

document.write( '<a href="http://www.linkedin.com/shareArticle?mini=true&amp;url='+shareurl+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="linkedin w3-tooltip"><i class="fa fa-linkedin"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Linkedin</span></a>');

</script>

<script>
function bookmark(){

if ('sidebar' in window && 'addPanel' in window.sidebar) { 
                window.sidebar.addPanel(location.href,document.title,"");
            } else if(  false) { 
                window.external.AddFavorite(location.href,document.title); 
            } else { 
                alert('Press ' + (navigator.userAgent.toLowerCase().indexOf('mac') != - 1 ? 'Command/Cmd' : 'CTRL') + ' + D to bookmark this page.');
            }
        }

</script>
</div>
        
        
          
  

        

      </div>



    <footer id="footer" >
      <div class="w3-container w3-center w3-padding-32"> 
  
  <hr class="headfoot">
  <p>Powered by <a href="https://gohugo.io">Hugo</a> | Theme - <a href="https://github.com/jesselau76/hugo-w3-simple">Hugo W3 Simple</a>
  </p>
  &copy; <a href="http://javahabit.com">Dinesh Arora</a> 2019 | <a href="https://github.com/dinesh19aug">Github</a> | <a href="https://twitter.com/dinesh19aug">Twitter</a>  | <a href="/index.xml">RSS</a>
  
</div>

    </footer>



  </div>

  

  
    
      <div id="backtotop" class="w3-hide-small w3-hide-medium">

        <button onclick="topFunction()" class="w3-btn w3-red w3-large" style="width:160px">Back To Top
        &rarr;</button>

      </div>

      <script>
        function topFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
      }
      </script>


    
 
    
    <script>

    function isVisible(elem) {

      let coords = elem.getBoundingClientRect();

      let windowHeight = document.documentElement.clientHeight;

      
      let topVisible = coords.top > 0 && coords.top < windowHeight;
      let bottomVisible = coords.bottom < windowHeight && coords.bottom > 0;

      return topVisible || bottomVisible;
    }



    function showVisible() {
      for (let img of document.querySelectorAll('img')) {
        let realSrc = img.dataset.src;
        if (!realSrc) continue;

        if (isVisible(img)) {


          img.src = realSrc;

          img.dataset.src = '';
        }
      }
      if ( Array.from(document.querySelectorAll('[data-src]')).every(
        img => img.getAttribute('data-src') === '') ) {
        window.removeEventListener('scroll', showVisible)
      }

    }

    window.addEventListener('scroll', showVisible);
    showVisible();
  </script>


    
    
      <div class="progress-container" id="scrollbar">
        <div class="progress-bar" id="progress-bar"></div>
      </div>


    
<script>

window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  <!-- TOC -->
    
    <!-- cookie bar -->
    
<!-- Back to top -->
    
    if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
        document.getElementById("backtotop").style.display = "block";
    } else {
        document.getElementById("backtotop").style.display = "none";
    }
    
    <!-- scroll indicator -->
    
      var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
      var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      var scrolled = (winScroll / height) * 100;
      document.getElementById("progress-bar").style.width = scrolled + "%";
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("scrollbar").style.display = "block";
        } else {
            document.getElementById("scrollbar").style.display = "none";
        }


    

    <!-- allowads -->
    
       if (document.body.scrollTop > 2000 || document.documentElement.scrollTop > 2000) {
          detectads();
       }

    
}


</script>



  

</body>
</html>
