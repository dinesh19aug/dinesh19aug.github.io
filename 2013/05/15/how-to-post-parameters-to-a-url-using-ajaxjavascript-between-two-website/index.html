<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>A Morsel Of Code</title>

  
  
  <meta name="author" content="Dinesh" />
  <meta name="description" content="I am working a new project and I recently ran into an interesting problem. One of the web site that I keep up at work was supposed to take the user to another website which required me to add post parameters. EX &amp;#8211; www.mywebsite.makeapayment.com ==&amp;gt; Collects Billing information ex &amp;#8211; name, amount, address etc.==&amp;gt; Post this information to www.vendor-website.com.
I did not realize the problem until I started coding and my colleague pointed out that as soon as www." />





<meta name="generator" content="Hugo 0.53" />


<link rel="canonical" href="/2013/05/15/how-to-post-parameters-to-a-url-using-ajaxjavascript-between-two-website/" />
<link rel="alternative" href="/index.xml" title="A Morsel Of Code" type="application/atom+xml" />

<link href="https://cdn.bootcss.com/semantic-ui/2.2.14/semantic.min.css" rel="stylesheet" />
<link rel="stylesheet" href="/css/site.css" />


</head>

<body>
  <div class="flip-container">
    <div class="flipper">
      <section class="front">
        
<nav class="ui top secondary menu">
  <div class="item">
    <i class="inverted big link bullseye icon dream-flip-toggle" title="Flip it!"></i>
  </div>
  <div class="item">
    <a href="/">
      <i class="inverted big link home icon" title="Home"></i>
    </a>
  </div>
</nav>
 
<div class="ui centered grid">
  <div class="fifteen wide mobile fifteen wide tablet eleven wide computer column post-list">

    <section class="ui secondary top attached black segment">
      <header>
        <h1 class="ui header">
          How to post parameters to a url using Ajax/Javascript between two website
          <div class="sub header">@ Dinesh · May 15, 2013 · 3 min read · Update at May 15, 2013</div>
        </h1>
      </header>
      <article class="post-content" style="margin-top: 2rem; font-size: 1.4rem;"><p style="color: #000088; text-align: left;" align="left">
  <span style="color: black; font-family: Helvetica; font-size: 14pt;">I am working a new project and I recently ran into an interesting problem. One of the web site that I keep up at work was supposed to take the user to </span><span style="color: black; font-family: Helvetica; font-size: 14pt;">another website which required me to add post parameters.</span>
</p>

<p><span style="color: black; font-family: Helvetica; font-size: 14pt;">EX &#8211; www.mywebsite.makeapayment.com ==&gt; Collects Billing information ex &#8211; name, amount, address etc.==&gt; Post this information to www.vendor-website.com.</span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">I did not realize the problem until I started coding and my colleague pointed out that as soon as www.mywebsite.makeapayment.com goes to my servlet, the servlet will not pass params to external web site if use &#8220;POST&#8221;, I had to use &#8220;GET&#8221; because servlet will look up relative path only and the <strong>HTTPServletRequest/Response</strong> object is specific to an application. So if I wanted to send parameters using servlet I could only that using action = GET. Now since I was passing sensitive information so I did not want to use GET.</span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">A couple of solutions were discussed as follows:</span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">1. Insert the params in database and use servlet get from the mywebsite.com to pass the primary key of the database. Ex &#8211; www.mywebsite.makeapayment.com ==&gt;  www.vendor-website.com?key=10001. The vendor application look up the required params from the database.</span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">2. Create a new JSP and use JavaScript onLoad() to pass the params as Hidden Input and submit as post to  www.vendor-website.com.</span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">Ex &#8211; www.mywebsite.makeapayment.com==&gt; Servlet==&gt; New Blank JSP with Hidden params loaded on onLoad() and submitted to vendor website ==&gt; www.vendor-website.com.</span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">3. Third approach is interesting and I had not tried this ever but looked promising and this is what I eventually implemented. Make an Ajax call to from the JSP page to your servlet and when the Ajax Call returns, post it to vendor web site.</span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">Ex &#8211; www.mywebsite.makeapayment.com on hitting submit==&gt; calls the JS, uses DWR to post to call the servlet==&gt; Servlet does back ground processing like saving the records etc ==&gt; Returns the control back to the JavaScript ==&gt; Upon return in Ajax Call ==&gt; Post to <span style="color: black;">www.vendor-website.com.</span></span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">I implemented the combination of one and three but here I am going to show you how post params to a different URL &#8211; i.e. solution 3</span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">Let&#8217;s say I have a submit form with Name and address which needs to be saved in database when I submit the form and then I need to post the same information to different web site.</span></p>

<p><span style="font-size: 14pt;"><span style="font-family: Helvetica;"><strong>PersonalInformation.jsp</strong></span></span></p>

<p><span style="color: red; font-family: cursive; font-size: 12pt;"><html></span></p>

<p><span style="color: red; font-family: cursive; font-size: 12pt;"><head></span></p>

<blockquote>
<p><span style="color: red; font-family: cursive; font-size: 12pt;">    <script></span></p>

<p><span style="color: red; font-family: cursive; font-size: 12pt;">       // I am not showing the code for DWR. You will need to include dwr and engine.js. Add dwr.xml in your web-inf and specify the class name and method you want to use as dwr call. This method is called in the dwr Ajax call back.</span></p>

<p><span style="font-size: 12pt;"><span style="font-family: cursive;"><span style="color: red;"><br /> function submitAndGoToVendorSite()<br /> {<br /> var form = document.createElement(&#8220;FORM&#8221;);<br /> form.method = &#8220;POST&#8221;;<br /> form.style.display = &#8220;none&#8221;;<br /> document.body.appendChild(form);<br /> var url=&#8221;www.vendor-website.com&#8221;;<br /> form.action = url;</span></span></span></p>

<p><span style="color: red; font-family: cursive; font-size: 12pt;">            //My dwr ajax call gets a Json string from the servlet response.<br /> var jsonString =      &#8216;{&#8220;transactionId&#8221;:&#8221;1368505156670&#8243;,&#8221;requesterType&#8221;:&#8221;APP&#8221;,&#8221;billingEmail&#8221;:&#8221;null@cybersource.com&#8221;,&#8221;billingState&#8221;:&#8221;NC&#8221;,&#8221;amount&#8221;:&#8221;42.7699999999999999433786257441170164384&#8243;,&#8221;refund&#8221;:&#8221;N&#8221;,&#8221;billingCity&#8221;:&#8221;CONCORD&#8221;,&#8221;billingLine1&#8243;:&#8221;Progress Pl&#8221;,&#8221;billingFirstname&#8221;:&#8221;test&#8221;,&#8221;billingLine2&#8243;:&#8221;&#8221;,&#8221;shopperIP&#8221;:&#8221;127.0.0.1&#8243;,&#8221;application&#8221;:&#8221;OEP2&#8243;,&#8221;currencyCode&#8221;:&#8221;USD&#8221;,&#8221;billingCompany&#8221;:&#8221;ACN&#8221;,&#8221;revenueSource&#8221;:&#8221;&#8221;,&#8221;billingLastname&#8221;:&#8221;test&#8221;,&#8221;countryCode&#8221;:&#8221;US&#8221;,&#8221;billingAddrNum&#8221;:&#8221;1000&#8243;,&#8221;cardType&#8221;:&#8221;VISA&#8221;,&#8221;businessPurpose&#8221;:&#8221;TOOL&#8221;,&#8221;profileConfig&#8221;:&#8221;cybersource-MLTEST1&#8243;,&#8221;language&#8221;:&#8221;en&#8221;,&#8221;billingZip&#8221;:&#8221;28025&#8243;,&#8221;repOrCustID&#8221;:&#8221;1233836&#8243;,&#8221;user&#8221;:&#8221;DARORATEST&#8221;,&#8221;paymentMethod&#8221;:&#8221;CC&#8221;,&#8221;billingPhone&#8221;:&#8221;&#8221;}&#8217;<br /> </span></p>

<p><span style="color: red; font-family: cursive; font-size: 12pt;">     // Create a JSON object from the JSON String</span></p>

<p><span style="color: red; font-family: cursive; font-size: 12pt;">     var jsonObj = jQuery.parseJSON(jsonString);</span></p>

<p><span style="color: red; font-family: cursive; font-size: 12pt;">//Iterate over Json object and set them as hidden input params to the form<br /> for(obj in jsonObj){<br /> var input = document.createElement(&#8220;INPUT&#8221;);<br /> input.type = &#8220;hidden&#8221;;<br /> input.name = obj;<br /> input.value = jsonObj[obj];<br /> form.appendChild(input);<br /> } </span></p>

<p>//Submit the form</p>

<p>form.submit();</p>

<p><span style="color: red; font-family: cursive; font-size: 12pt;">}<br /> </script></span></p>
</blockquote>

<p><span style="font-family: Helvetica; font-size: 14pt;"></head></span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;"><body></span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">     <form></span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">            <label>Name:</label><Input type=&#8221;text&#8221;/></span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">            &#8230;&#8230;&#8230;.</span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">            <input type=&#8221;button&#8221; onclick=&#8221;submitAndGoToVendorSite();&#8221;/></span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">    </form></span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;"></body></span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">That&#8217;s It!</span></p>

<p><span style="font-family: Helvetica; font-size: 14pt;">~Keep Coding</span></p>
</article>
    </section>

    <footer class="ui secondary attached segment dream-tags">
      
      <span>No Tag</span>
      
    </footer>

    

    

  </div>
  <div class="fifteen wide mobile fifteen wide tablet four wide computer column">

    <section class="ui top attached center aligned inverted segment">
  <div class="ui small circular image">
    
    <img src="/img/avatar3.svg">
    
  </div>
  <h3 class="ui header">Dinesh AroraDinesh&#39;s blog<div class="sub header" style="color: white;"></div>
  </h3>
  <a id="tag-category-pop" class="ui red right corner label">
    <i class="pointing down icon" title="Click this to pop tags and categories"></i>
  </a>
</section>




<section class="ui attached inverted segment dream-categories">
  <div class="ui inverted accordion">
    
    <div class="title">
      <i class="dropdown icon"></i>
      <a href="/categories/tech-notes" class="item" style="color: white;">tech-notes</a>
    </div>
    <div class="content">
      <div class="ui link inverted list">
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2018/12/30/test2/" class="item">Test2</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2018/12/30/spring-bean-vs-component/" class="item">Spring Bean vs Spring Component</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2017/03/20/scala-tail-recursion/" class="item">Scala: Tail Recursion</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2016/06/16/understanding-java-8-lambda-final-finally-variable/" class="item">Understanding Java 8 Lambda final finally variable</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2015/12/26/how-to-set-up-apache-storm-on-mac-using-brew/" class="item">How to set up Apache Storm on mac using brew</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2015/09/27/waffle-windows-single-sign-on/" class="item">Waffle : Windows Single Sign On</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2015/07/22/4-ways-to-set-up-datasources-in-jboss-as-7/" class="item">4 ways to set up datasources in Jboss AS 7</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2015/03/30/install-or-manage-multiple-versions-of-java-on-os-x/" class="item">Install Or Manage multiple versions of Java on OS X</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2015/01/26/restful-webservice-7-steps-using-spring-boot/" class="item">Restful Webservice in 7 Steps using Spring boot</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2014/10/17/quick-tutorial-saaj-api/" class="item">A quick tutorial on SAAJ API</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2014/04/18/apache-poi-tutorial-reading-writing-excel-files-java/" class="item">Read / Write Excel file in Java using Apache POI</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2014/03/16/13-common-java-keytool-keystore-commands/" class="item">13 Most Common Java Keytool Keystore Commands</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2014/01/31/10-intellij-idea-keyboard-shortcuts-must-know/" class="item">10 IntelliJ IDEA Keyboard Shortcuts That You Must Know</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2013/12/16/apache-camel-how-to-call-an-external-webservice/" class="item">Apache Camel : How to call  java webservice</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2013/10/24/launch-website-in-amazon-ec2/" class="item">Launch Website in Amazon EC2</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2013/09/18/how-to-configure-jndi-with-spring-and-jboss45/" class="item">How to configure JNDI with Spring and Jboss4/5</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2013/08/01/rails-jquery-is-not-loading/" class="item">Rails: Jquery is not loading</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2013/05/15/how-to-post-parameters-to-a-url-using-ajaxjavascript-between-two-website/" class="item">How to post parameters to a url using Ajax/Javascript between two website</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2013/03/07/using-multiple-profiles-in-maven-eclipse/" class="item">Using multiple profiles in Maven &#43; Eclipse</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2012/09/23/how-to-send-email-in-phonegap-android-using-a-gmail-account/" class="item">How to send email in PhoneGap (Android) using a gmail account</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2012/07/13/share-any-folder-on-mac-via-built-in-web-server/" class="item">How To Share Any Folder On Mac Via Built-in Web Server</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2012/06/03/saving-files-in-amazon-s3-using-carrierwave-and-fog-gem/" class="item">Saving files in Amazon S3 using Carrierwave and Fog Gem</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2012/05/30/installing-rails-on-mac-osx/" class="item">Installing Rails on Mac OSX</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2012/05/29/setting-up-imap-settings-for-hotmail-account-on-iphone-and-android/" class="item">Setting up IMAP settings for hotmail account on Iphone and android</a>
        </div>
      </div>
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2012/01/28/engineyard-rails-3-x-nginx-passenger-assets-not-displayed/" class="item">Engineyard, Rails 3.x, NGINX, PASSENGER ASSETS NOT DISPLAYED</a>
        </div>
      </div>
      
      </div>
    </div>
    
    <div class="title">
      <i class="dropdown icon"></i>
      <a href="/categories/uncategorized" class="item" style="color: white;">uncategorized</a>
    </div>
    <div class="content">
      <div class="ui link inverted list">
      
      <div class="item" style="padding-left: 24px;">
        <i class="cocktail icon"></i>
        <div class="content">
          <a href="/2015/04/23/powermock-how-to-test-a-private-method/" class="item">PowerMock : How to test a private method</a>
        </div>
      </div>
      
      </div>
    </div>
    
  </div>
</section>


<section class="ui bottom attached center aligned inverted segment">
    
    <p>© 2018 A Morsel Of Code</p>
    
    <p>Powered by <a href="http://www.javahabit.com" target="_blank">Dreams</a> </p>
</section>


  </div>
</div>

      </section>
      <section class="back">
        <nav class="ui top secondary menu" style="overflow-x: auto">
  <div class="item">
    <i class="inverted big link bullseye icon dream-flip-toggle" title="Flip it!"></i>
  </div>
  
  
  
  
  
</nav>

<div class="ui centered grid about">
  <div class="fifteen wide mobile fifteen wide tablet fifteen wide computer column">

    <section class="ui stacked segments">
      <header class="ui inverted segment">
        <h2 class="ui header">
          About
        </h2>
      </header>

      <article class="ui inverted segment">
        
        
        
      </article>

      

      
        
      
    </section>

  </div>
</div>

      </section>
    </div>
  </div>

  
<script src="/js/jquery.min.js"></script>
<script src="/js/semantic.min.js"></script>
<script src="/js/bg.js"></script>
<script src="/js/site.js"></script>



</body>

</html>
