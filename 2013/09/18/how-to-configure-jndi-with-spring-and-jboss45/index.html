
<!DOCTYPE html>
<html lang="en">
<head>
  
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.53" />

    
    
    

<title>How to configure JNDI with Spring and Jboss4/5 • A Morsel Of Code</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to configure JNDI with Spring and Jboss4/5"/>
<meta name="twitter:description" content="This is a simple process but if you try and search on the web you will come across various incomplete solutions which will leave you more confused than you already were. This configuration involves just four simple steps that I will walk through to help you set up JNDI on Jboss. I am using Jboss 4.3, but this should be valid for other version of Jboss as well.
I have a web application which is built on Spring 3."/>

<meta property="og:title" content="How to configure JNDI with Spring and Jboss4/5" />
<meta property="og:description" content="This is a simple process but if you try and search on the web you will come across various incomplete solutions which will leave you more confused than you already were. This configuration involves just four simple steps that I will walk through to help you set up JNDI on Jboss. I am using Jboss 4.3, but this should be valid for other version of Jboss as well.
I have a web application which is built on Spring 3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2013/09/18/how-to-configure-jndi-with-spring-and-jboss45/" /><meta property="article:published_time" content="2013-09-18T19:27:26&#43;00:00"/>
<meta property="article:modified_time" content="2013-09-18T19:27:26&#43;00:00"/>



<link rel="canonical" href="/2013/09/18/how-to-configure-jndi-with-spring-and-jboss45/" />

<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="/favicon.ico" type="image/x-icon">





<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allerta+Stencil">

<link rel="stylesheet" href="/css/w3.css" />


<link rel="stylesheet" href="/css/style.css" />








  
  
</head>
<body }

class="w3-light-grey">


    
    <header id="header">
         
        <div class="w3-right ">
<div class="w3-bar w3-light-grey  ">
  
  <span class="w3-bar-item w3-left " id="google_translate_element"></span>
<script>
  function googleTranslateElementInit() {
    new google.translate.TranslateElement(
      {
          pageLanguage: 'en'
        , layout: google.translate.TranslateElement.FloatPosition.TOP_RIGHT
        , multilanguagePage: true
      }
      , 'google_translate_element'
    );
  }
</script>
<script async src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>


  
       <a href="javascript:void(0)" class="w3-bar-item w3-button w3-hover-green" title="Search" onclick="displaysearch()"><i class="fa fa-search"></i></a>
  
      <span class="w3-hide-small">
        
        <a href="mailto:dinesh19aug@gmail.com" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-envelope"></i></a>
        
        <a href="https://stackoverflow.com/users/1172194/dinesh-arora" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-stack-overflow"></i></a>
        
        <a href="https://twitter.com/dinesh19aug" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-twitter"></i></a>
        
        <a href="https://github.com/dinesh19aug" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-github"></i></a>
        
        <a href="https://www.linkedin.com/in/dinesharora" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-linkedin"></i></a>
        
        <a href="https://github.com/dinesh19aug" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-github"></i></a>

      </span>
  
</div>
</div>
<br>
  <div class="w3-content">
  
  <div class="w3-container w3-center w3-padding-32 w3-hide-small"> 
      <h1 class="w3-xxxlarge w3-text-blue w3-wide w3-allerta  " style="text-shadow:1px 1px 0 #444" ><u>
      
         A Morsel Of Code - One Byte At A Time
      
</u></h1>
      
    </div>
    <div class="w3-content w3-center">
    <div class="w3-bar w3-light-grey w3-border">
    <a href="/" class="w3-bar-item w3-button w3-large w3-green"><i class="fa fa-home"></i></a>
    
      <a href="/categories/" class="w3-bar-item w3-button w3-hide-small">Categories</a>
    
      <a href="/tags/" class="w3-bar-item w3-button w3-hide-small">Tags</a>
    
   
    
    <a href="javascript:void(0)" class="w3-bar-item w3-button w3-right w3-hide-large w3-hide-medium" onclick="displaymenu()">&#9776;</a>
  </div>

<div id="mobilemenu" class="w3-bar-block w3-light-grey w3-hide w3-hide-large w3-hide-medium">
  
      <a href="/categories/" class="w3-bar-item w3-button">Categories</a>
      
      <a href="/tags/" class="w3-bar-item w3-button">Tags</a>
      
  
</div>
</div>
</div>
<script>
function displaymenu() {
    var x = document.getElementById("mobilemenu");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else { 
        x.className = x.className.replace(" w3-show", "");
    }
}
</script>



  <div id="searchOverlay" class="overlay w3-hide">
    <span class="closebtn" onclick="displaysearch()" title="Close Overlay">×</span>
    <div class="overlay-content">
        <form action="/search/">
          <input type="text" placeholder="Search.." name="q">
          <button type="submit"><i class="fa fa-search"></i></button>
        </form>
    </div>
  </div>

  <script>
  function displaysearch() {
    var x = document.getElementById("searchOverlay");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else { 
        x.className = x.className.replace(" w3-show", "");
    }
      
  }

 
  </script>

  


    
    <hr class="headfoot">
   
      
    </header>
    
<div class="w3-content">
    
      <div>
        <div id="content" >
          
    

 
     


  <div class="w3-content w3-card-4" >
    
    <header class="w3-container w3-center w3-padding-32">
      <h1>How to configure JNDI with Spring and Jboss4/5</h1>

      <div >
        <p> 2013-09-18 
          
             <code> 395 words  </code>
             <code> 2 mins read </code>
          
        </p>
        <div >
            
              <a class="w3-btn w3-small w3-round w3-green" href="/categories/tech-notes/"> Tech Notes </a>
            
          </div>
       
        
      </div>
    </header>

   
    
    <div class="w3-container">
      
        

        
        

        
          <p>This is a simple process but if you try and search on the web you will come across various incomplete solutions which will leave you more confused than you already were. This configuration involves just four simple steps that I will walk through to help you set up JNDI on Jboss. I am using Jboss 4.3, but this should be valid for other version of Jboss as well.</p>

<p>I have a web application which is built on Spring 3.2 and uses Hibernate 4. To set up a new JNDI configuration we will first create a datasource xml file. This file needs to be deployed in Jboss/Deploy folder along with your war file.</p>

<p><span style="text-decoration: underline;"><strong>Step 1:</strong></span></p>

<p>Create a datasource file oracle-ds.xml. The content of the file will look like this</p>

<p><span style="color: #008000;">&lt;?xml version=&#8221;1.0&#8243; encoding=&#8221;UTF-8&#8243;?&gt;</span></p>

<p><span style="color: #008000;">&lt;!DOCTYPE datasources PUBLIC &#8220;-//JBoss//DTD JBOSS JCA Config 1.5//EN&#8221; &#8220;<a href="http://www.jboss.org/j2ee/dtd/jboss-ds_1_5.dtd&amp;#8221;&gt;">http://www.jboss.org/j2ee/dtd/jboss-ds_1_5.dtd&amp;#8221;&gt;</a></span></p>

<p><span style="color: #008000;"><datasources></span></p>

<p><span style="color: #008000;">  <local-tx-datasource></span></p>

<p><span style="color: #008000;">    <jndi-name><strong>jdbc/listener-dss</strong></jndi-name></span></p>

<p><span style="color: #008000;">    <connection-url>jdbc:oracle:thin:@dbsrvossdevl:1521:US91</connection-url></span></p>

<p><span style="color: #008000;">    <driver-class>oracle.jdbc.driver.OracleDriver</driver-class></span></p>

<p><span style="color: #008000;">    <user-name>myuser</user-name></span></p>

<p><span style="color: #008000;">    <password>mypassword</password></span></p>

<p><span style="color: #008000;">    <min-pool-size>5</min-pool-size></span></p>

<p><span style="color: #008000;">    <max-pool-size>50</max-pool-size></span></p>

<p><span style="color: #008000;">    <idle-timeout-minutes>10</idle-timeout-minutes></span></p>

<p><span style="color: #008000;">    <exception-sorter-class-name>org.jboss.resource.adapter.jdbc.vendor.OracleExceptionSorter</exception-sorter-class-name></span></p>

<p><span style="color: #008000;">    <metadata></span></p>

<p><span style="color: #008000;">      <type-mapping>Oracle9i</type-mapping></span></p>

<p><span style="color: #008000;">    </metadata></span></p>

<p><span style="color: #008000;">  </local-tx-datasource></span></p>

<p><span style="color: #008000;"></datasources></span></p>

<p>&nbsp;</p>

<p><span style="color: #000000;"><strong>Explanation:</strong> <jndi-name><strong style="color: #008000;">jdbc/listener-dss</strong></jndi-name> . This line tells what is the jndi name that we are going to use across configuration files.</span><span style="color: #008000;"><br /> </span></p>

<p>&nbsp;</p>

<p><span style="text-decoration: underline;"><strong><span style="color: #000000; text-decoration: underline;">Step</span></strong></span>** <span style="color: #000000;">2:</span>**<span style="color: #000000;"> Now open your web.xml file and add the resource-ref. This tells that jee container that your web application is using JNDI.</span></p>

<p><span style="color: #000000;">Your web.xml should be under <strong>WEB-INF</strong> folder. Add the below lines in your web.xml (<strong>see the highlighted section</strong>). This step is common whether you use Jboss or Tomcat or Websphere or any other application server.</span></p>

<p>&nbsp;</p>

<p><span style="color: #008000;">&lt;?xml version=&#8221;1.0&#8243; encoding=&#8221;UTF-8&#8243;?&gt;</span></p>

<p><span style="color: #008000;"><web-app version=&#8221;2.5&#8243; xmlns=&#8221;http://java.sun.com/xml/ns/javaee&#8221; xmlns:xsi=&#8221;http://www.w3.org/2001/XMLSchema-instance&#8221;</span></p>

<p><span style="color: #008000;">  xsi:schemaLocation=&#8221;<a href="http://java.sun.com/xml/ns/javaee">http://java.sun.com/xml/ns/javaee</a></span></p>

<p><span style="color: #008000;">  <a href="http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&amp;#8221;&gt;">http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&amp;#8221;&gt;</a></span></p>

<p><span style="color: #008000;">  <display-name>ACN Web Application</display-name></span></p>

<p>&nbsp;</p>

<p><span style="color: #008000;">    <servlet></span></p>

<p><span style="color: #008000;">        <servlet-name>listener</servlet-name></span></p>

<p><span style="color: #008000;">        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class></span></p>

<p><span style="color: #008000;">        <load-on-startup>1</load-on-startup></span></p>

<p><span style="color: #008000;">    </servlet></span></p>

<p>&nbsp;</p>

<p><span style="color: #008000;">    <servlet-mapping></span></p>

<p><span style="color: #008000;">        <servlet-name>listener</servlet-name></span></p>

<p><span style="color: #008000;">        <url-pattern>/</url-pattern></span></p>

<p><span style="color: #008000;">    </servlet-mapping></span></p>

<p>&nbsp;</p>

<p><span style="color: #008000;">    <context-param></span></p>

<p><span style="color: #008000;">        <param-name>contextConfigLocation</param-name></span></p>

<p><span style="color: #008000;">        <param-value>/WEB-INF/listener-servlet.xml</param-value></span></p>

<p><span style="color: #008000;">    </context-param></span></p>

<p><span style="color: #008000;">    <strong><resource-ref></strong></span></p>

<p><strong><span style="color: #008000;">        <description>Listener Database</description></span></strong></p>

<p><strong><span style="color: #008000;">        <res-ref-name>jdbc/listener-dss</res-ref-name></span></strong></p>

<p><strong><span style="color: #008000;">        <res-type>javax.sql.DataSource</res-type></span></strong></p>

<p><strong><span style="color: #008000;">        <res-auth>Container</res-auth></span></strong></p>

<p><strong><span style="color: #008000;">    </resource-ref></span></strong></p>

<p>&nbsp;</p>

<p><span style="color: #008000;">    <listener></span></p>

<p><span style="color: #008000;">        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class></span></p>

<p><span style="color: #008000;">    </listener></span></p>

<p>&nbsp;</p>

<p><span style="color: #008000;">  <welcome-file-list></span></p>

<p><span style="color: #008000;">    <welcome-file>index.jsp</welcome-file></span></p>

<p><span style="color: #008000;">  </welcome-file-list></span></p>

<p>&nbsp;</p>

<p><span style="color: #008000;"></web-app></span></p>

<p>&nbsp;</p>

<p><span style="text-decoration: underline;"><strong><span style="color: #000000; text-decoration: underline;">Step</span></strong></span>** <span style="color: #000000;">3:</span>** <span style="color: #000000;">Next we will update the Spring context xml file to tell the Spring container that it needs to do a JNDI look up. My Spring context file name is listener-servlet.xml and this is under <strong>WEB-INF</strong> folder. Add the following(See highlighted section)</span></p>

<p>&nbsp;</p>

<p><span style="color: #008000;"><beans xmlns=&#8221;http://www.springframework.org/schema/beans&#8221;</span></p>

<p><span style="color: #008000;">       xmlns:context=&#8221;<a href="http://www.springframework.org/schema/context&amp;#8221">http://www.springframework.org/schema/context&amp;#8221</a>;</span></p>

<p><span style="color: #008000;">       xmlns:mvc=&#8221;<a href="http://www.springframework.org/schema/mvc&amp;#8221">http://www.springframework.org/schema/mvc&amp;#8221</a>; xmlns:xsi=&#8221;<a href="http://www.w3.org/2001/XMLSchema-instance&amp;#8221">http://www.w3.org/2001/XMLSchema-instance&amp;#8221</a>;</span></p>

<p><span style="color: #008000;">       xmlns:tx=&#8221;<a href="http://www.springframework.org/schema/tx&amp;#8221">http://www.springframework.org/schema/tx&amp;#8221</a>;</span></p>

<p><span style="color: #008000;">       xmlns:p=&#8221;<a href="http://www.springframework.org/schema/p&amp;#8221">http://www.springframework.org/schema/p&amp;#8221</a>;</span></p>

<p><span style="color: #008000;">       xsi:schemaLocation=&#8221;<a href="http://www.springframework.org/schema/beans">http://www.springframework.org/schema/beans</a></span></p>

<p><span style="color: #008000;">        <a href="http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">http://www.springframework.org/schema/beans/spring-beans-3.0.xsd</a></span></p>

<p><span style="color: #008000;">        <a href="http://www.springframework.org/schema/context">http://www.springframework.org/schema/context</a></span></p>

<p><span style="color: #008000;">        <a href="http://www.springframework.org/schema/context/spring-context-3.0.xsd">http://www.springframework.org/schema/context/spring-context-3.0.xsd</a></span></p>

<p><span style="color: #008000;">        <a href="http://www.springframework.org/schema/mvc">http://www.springframework.org/schema/mvc</a></span></p>

<p><span style="color: #008000;">        <a href="http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd">http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd</a></span></p>

<p><span style="color: #008000;">        <a href="http://www.springframework.org/schema/tx">http://www.springframework.org/schema/tx</a></span></p>

<p><span style="color: #008000;">        <a href="http://www.springframework.org/schema/tx/spring-tx.xsd">http://www.springframework.org/schema/tx/spring-tx.xsd</a> &#8220;&gt;</span></p>

<p><span style="color: #008000;">    <context:component-scan base-package=&#8221;com.acn.cslistener&#8221; /></span></p>

<p><span style="color: #008000;">    <mvc:annotation-driven /></span></p>

<p><span style="color: #008000;">    <a href="tx:annotation-driven/">tx:annotation-driven/</a></span></p>

<p><span style="color: #008000;">    <bean</span></p>

<p><span style="color: #008000;">            class=&#8221;org.springframework.web.servlet.view.InternalResourceViewResolver&#8221;&gt;</span></p>

<p><span style="color: #008000;">        <property name=&#8221;prefix&#8221;></span></p>

<p><span style="color: #008000;">            <value>/WEB-INF/pages/</value></span></p>

<p><span style="color: #008000;">        </property></span></p>

<p><span style="color: #008000;">        <property name=&#8221;suffix&#8221;></span></p>

<p><span style="color: #008000;">            <value>.jsp</value></span></p>

<p><span style="color: #008000;">        </property></span></p>

<p><span style="color: #008000;">    </bean></span></p>

<p><span style="color: #008000;">   <strong> <bean id=&#8221;sessionFactory&#8221; class=&#8221;org.springframework.orm.hibernate4.LocalSessionFactoryBean&#8221;></strong></span></p>

<p><strong><span style="color: #008000;">        <property name=&#8221;dataSource&#8221; ref=&#8221;dataSource&#8221;/></span></strong></p>

<p><strong><span style="color: #008000;">        <property name=&#8221;hibernateProperties&#8221;></span></strong></p>

<p><strong><span style="color: #008000;">            <props></span></strong></p>

<p><strong><span style="color: #008000;">                <prop key=&#8221;hibernate.dialect&#8221;>org.hibernate.dialect.Oracle10gDialect</prop></span></strong></p>

<p><strong><span style="color: #008000;">                <prop key=&#8221;hibernate.show_sql&#8221;>true</prop></span></strong></p>

<p><strong><span style="color: #008000;">            </props></span></strong></p>

<p><strong><span style="color: #008000;">        </property></span></strong></p>

<p><strong><span style="color: #008000;">        <property name=&#8221;packagesToScan&#8221; value=&#8221;com.acn.cslistener&#8221; /></span></strong></p>

<p><strong><span style="color: #008000;">    </bean></span></strong></p>

<p><strong><span style="color: #008000;">    <span style="color: #008080;"><bean id=&#8221;dataSource&#8221; class=&#8221;org.springframework.jndi.JndiObjectFactoryBean&#8221;></span></span></strong></p>

<p><span style="color: #008080;"><strong>        <property name=&#8221;jndiName&#8221; value=&#8221;java:comp/env/jdbc/listener-dss&#8221;/></strong></span></p>

<p><span style="color: #008080;"><strong>    </bean></strong></span></p>

<p><strong><span style="color: #008000;">    <bean id=&#8221;transactionManager&#8221; class=&#8221;org.springframework.orm.hibernate4.HibernateTransactionManager&#8221;</span></strong></p>

<p><strong><span style="color: #008000;">          p:sessionFactory-ref=&#8221;sessionFactory&#8221;&gt;</span></strong></p>

<p><strong><span style="color: #008000;">    </bean></span></strong></p>

<p><span style="color: #008000;">    <bean id=&#8221;persistenceAnnotation&#8221;    class=&#8221;org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor&#8221; /></span></p>

<p><span style="color: #008000;"></beans></span></p>

<p><span style="color: #000000;"> </span></p>

<p><strong><span style="color: #000000;">Step 4: </span></strong><span style="color: #000000;">This is the crucial step. If you are using Jboss then it requires that you tell the web container that Jboss will provide the datasource .xml file where you have defined your jndi properties. Create a new file <strong>jboss-web.xml. </strong>Place this file under <strong>WEB-INF </strong>folder. The contents of the file whould like this.</span></p>

<p><span style="color: #008000;">&lt;?xml version=&#8221;1.0&#8243; encoding=&#8221;UTF-8&#8243;?&gt;</span></p>

<p><span style="color: #008000;"><jboss-web></span></p>

<p><span style="color: #008000;">    <resource-ref></span></p>

<p><span style="color: #008000;">        <res-ref-name>jdbc/listener-dss</res-ref-name></span></p>

<p><span style="color: #008000;">        <res-type>javax.sql.DataSource</res-type></span></p>

<p><span style="color: #008000;">        <jndi-name>java:/jdbc/listener-dss</jndi-name></span></p>

<p><span style="color: #008000;">    </resource-ref></span></p>

<p><span style="color: #008000;"></jboss-web></span></p>

<p>That&#8217;s all we need to do.</p>

<p>&nbsp;</p>

<p>~~~~ Ciao.</p>

<p>&nbsp;</p>

                 
                
         
      
    </div>

    
   

    <div class="w3-container">
    	
      
     
	</div>



  


    
    
    
    
    <br>  
</div>



<div class="w3-container w3-card-2 w3-black">
<div class="w3-row">
  <div class="w3-col l2 m2 s12 w3-center">
  
    <img src="https://avatars3.githubusercontent.com/u/1176242?s=460&amp;v=4" width ="100px" class="w3-circle w3-center w3-margin-top w3-margin-bottom" alt="author" >
   
  </div>
  <div class="w3-col l10 m10 s12 ">
  <div class = "w3-container w3-margin-top">
    
    
  </div>
  </div>
  </div>
</div>

      
    <div class="w3-content" > 
      <div class="w3-bar w3-section">
	     
	      <a  href="/2013/10/24/launch-website-in-amazon-ec2/" class="w3-btn w3-text-indigo w3-hover-green">
	          &#10094; Launch Website in Amazon EC2
	      </a>
	    
	      <a class="w3-btn w3-right w3-text-indigo w3-hover-green" href="/2013/08/01/rails-jquery-is-not-loading/">
	       Rails: Jquery is not loading &#10095;
	      </a>
  	  </div>
    </div>
	
 

  
  
  

      <div id="wrapads">
        <div class="adBanner">
         
        </div>
       </div>
      
      <div id="allowads" class="allowads-overlay">
  
        <div class="allowads-overlay-content">
        <div class="w3-panel w3-pink w3-large">
        

         <p> We notice you're using an adblocker.  If you like our webite please keep us running by whitelisting this site in your ad blocker. We’re serving quality, related ads only. Thank you!</p>
         
          <div class="w3-btn w3-green"  onclick="closeOverlay()">I've whitelisted your website.</div><br>
          <div class="w3-button w3-small"  onclick="closeOverlay()">Not now</div>
        </div>
        </div>
      </div>

      <script>
      function closeOverlay() {
        document.getElementById("allowads").style.width = "0%";
        document.getElementById("wrapads").style.height="1px";
      }

      function detectads() {
      var h = document.getElementById("wrapads").clientHeight;

      if (h==0){ document.getElementById("allowads").style.width = "100%";
      }
      }
      

     
      
      </script>
        </div>
        
          <script>
  shareurl=encodeURIComponent(location.protocol + '//' + location.host + location.pathname);
  sharetitle=encodeURIComponent(document.title);
    
  </script>
<div class="icon-bar">
<script>
document.write( '<a href="javascript:bookmark();" class="bookmark w3-tooltip"><i class="fa fa-bookmark"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green ">Bookmark this page</span></a> ');

document.write( '<a href="http://www.facebook.com/sharer.php?u='+shareurl+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="facebook w3-tooltip"><i class="fa fa-facebook "></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Facebook</span></a> ');

document.write( '<a href="https://twitter.com/share?url='+shareurl+'&amp;text='+sharetitle+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="twitter w3-tooltip"><i class="fa fa-twitter"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Twitter</span></a> ');
document.write( '<a href="https://plus.google.com/share?url='+shareurl+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="google w3-tooltip"><i class="fa fa-google"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Google Plus</span></a>');

document.write( '<a href="http://www.linkedin.com/shareArticle?mini=true&amp;url='+shareurl+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="linkedin w3-tooltip"><i class="fa fa-linkedin"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Linkedin</span></a>');

</script>

<script>
function bookmark(){

if ('sidebar' in window && 'addPanel' in window.sidebar) { 
                window.sidebar.addPanel(location.href,document.title,"");
            } else if(  false) { 
                window.external.AddFavorite(location.href,document.title); 
            } else { 
                alert('Press ' + (navigator.userAgent.toLowerCase().indexOf('mac') != - 1 ? 'Command/Cmd' : 'CTRL') + ' + D to bookmark this page.');
            }
        }

</script>
</div>
        
           
          
  

        
        
      </div>
    

   
    <footer id="footer" >
      <div class="w3-container w3-center w3-padding-32"> 
  
  <hr class="headfoot">
  <p>Powered by <a href="https://gohugo.io">Hugo</a> | Theme - <a href="https://github.com/jesselau76/hugo-w3-simple">Hugo W3 Simple</a>
  </p>
  &copy; <a href="http://javahabit.com">Dinesh Arora</a> 2019 | <a href="https://github.com/dinesh19aug">Github</a> | <a href="https://twitter.com/dinesh19aug">Twitter</a>  | <a href="/index.xml">RSS</a>
  
</div>

    </footer>
    

    
  </div>

  

  
    
      <div id="backtotop" class="w3-hide-small w3-hide-medium">
  
        <button onclick="topFunction()" class="w3-btn w3-red w3-large" style="width:160px">Back To Top
        &rarr;</button>
        
      </div>

      <script>
        function topFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
      }
      </script>


    
 
    
    <script>
    
    function isVisible(elem) {

      let coords = elem.getBoundingClientRect();

      let windowHeight = document.documentElement.clientHeight;

      
      let topVisible = coords.top > 0 && coords.top < windowHeight;
      let bottomVisible = coords.bottom < windowHeight && coords.bottom > 0;

      return topVisible || bottomVisible;
    }

    

    function showVisible() {
      for (let img of document.querySelectorAll('img')) {
        let realSrc = img.dataset.src;
        if (!realSrc) continue;

        if (isVisible(img)) {
          

          img.src = realSrc;

          img.dataset.src = '';
        }
      }
      if ( Array.from(document.querySelectorAll('[data-src]')).every(
        img => img.getAttribute('data-src') === '') ) {
        window.removeEventListener('scroll', showVisible)
      }

    }

    window.addEventListener('scroll', showVisible);
    showVisible();
  </script>


    
    
      <div class="progress-container" id="scrollbar">
        <div class="progress-bar" id="progress-bar"></div>
      </div>  


    
<script>

window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  <!-- TOC -->
    
    <!-- cookie bar -->
    
<!-- Back to top -->
    
    if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
        document.getElementById("backtotop").style.display = "block";
    } else {
        document.getElementById("backtotop").style.display = "none";
    }
    
    <!-- scroll indicator -->
    
      var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
      var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      var scrolled = (winScroll / height) * 100;
      document.getElementById("progress-bar").style.width = scrolled + "%";
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("scrollbar").style.display = "block";
        } else {
            document.getElementById("scrollbar").style.display = "none";
        }
    

    

    <!-- allowads -->
    
       if (document.body.scrollTop > 2000 || document.documentElement.scrollTop > 2000) {
          detectads();
       } 

    
}


</script>



  

</body>
</html>
