---
title: How to set up Apache Storm on mac using brew
author: Dinesh
type: post
date: 2015-12-26T17:02:46+00:00
url: /2015/12/26/how-to-set-up-apache-storm-on-mac-using-brew/
snap_MYURL:
  - 
  - 
snapEdIT:
  - 1
  - 1
snapDI:
  - 's:339:"a:1:{i:0;a:12:{s:4:"doDI";s:1:"1";s:11:"SNAPformatT";s:7:"%TITLE%";s:10:"SNAPformat";s:9:"%EXCERPT%";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:2:"DI";s:5:"pDate";s:19:"2015-12-26 17:02:56";s:2:"do";s:1:"1";s:10:"msgTFormat";s:7:"%TITLE%";s:9:"msgFormat";s:9:"%EXCERPT%";s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";s:0:"";}}";'
  - 's:339:"a:1:{i:0;a:12:{s:4:"doDI";s:1:"1";s:11:"SNAPformatT";s:7:"%TITLE%";s:10:"SNAPformat";s:9:"%EXCERPT%";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:2:"DI";s:5:"pDate";s:19:"2015-12-26 17:02:56";s:2:"do";s:1:"1";s:10:"msgTFormat";s:7:"%TITLE%";s:9:"msgFormat";s:9:"%EXCERPT%";s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";s:0:"";}}";'
snapIP:
  - 's:269:"a:1:{i:0;a:9:{s:4:"doIP";s:1:"1";s:12:"rpstPostIncl";s:7:"nxsi0ip";s:11:"SNAPformatT";s:7:"%TITLE%";s:10:"SNAPformat";s:9:"%EXCERPT%";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:9:"671040070";s:5:"pDate";s:19:"2015-12-26 17:03:04";s:2:"do";s:1:"1";}}";'
  - 's:269:"a:1:{i:0;a:9:{s:4:"doIP";s:1:"1";s:12:"rpstPostIncl";s:7:"nxsi0ip";s:11:"SNAPformatT";s:7:"%TITLE%";s:10:"SNAPformat";s:9:"%EXCERPT%";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:9:"671040070";s:5:"pDate";s:19:"2015-12-26 17:03:04";s:2:"do";s:1:"1";}}";'
snapTW:
  - 's:289:"a:1:{i:0;a:10:{s:4:"doTW";s:1:"1";s:10:"SNAPformat";s:15:"%TITLE% - %URL%";s:8:"attchImg";s:1:"1";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";s:0:"";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:18:"680795947408863233";s:5:"pDate";s:19:"2015-12-26 17:02:57";s:2:"do";s:1:"1";}}";'
  - 's:289:"a:1:{i:0;a:10:{s:4:"doTW";s:1:"1";s:10:"SNAPformat";s:15:"%TITLE% - %URL%";s:8:"attchImg";s:1:"1";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";s:0:"";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:18:"680795947408863233";s:5:"pDate";s:19:"2015-12-26 17:02:57";s:2:"do";s:1:"1";}}";'
snap_isAutoPosted:
  - 1
  - 1
snapDL:
  - 's:398:"a:1:{i:0;a:13:{s:4:"doDL";s:1:"1";s:12:"rpstPostIncl";s:1:"0";s:11:"SNAPformatT";s:7:"%TITLE%";s:10:"SNAPformat";s:9:"%EXCERPT%";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:32:"148d37f5b9827625fb29604791492de8";s:5:"pDate";s:19:"2015-12-26 17:02:51";s:2:"do";s:1:"1";s:10:"msgTFormat";s:7:"%TITLE%";s:9:"msgFormat";s:9:"%EXCERPT%";s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";s:0:"";}}";'
  - 's:398:"a:1:{i:0;a:13:{s:4:"doDL";s:1:"1";s:12:"rpstPostIncl";s:1:"0";s:11:"SNAPformatT";s:7:"%TITLE%";s:10:"SNAPformat";s:9:"%EXCERPT%";s:11:"isPrePosted";s:1:"1";s:8:"isPosted";s:1:"1";s:4:"pgID";s:32:"148d37f5b9827625fb29604791492de8";s:5:"pDate";s:19:"2015-12-26 17:02:51";s:2:"do";s:1:"1";s:10:"msgTFormat";s:7:"%TITLE%";s:9:"msgFormat";s:9:"%EXCERPT%";s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";s:0:"";}}";'
snapLI:
  - 's:387:"a:1:{i:0;a:12:{s:4:"doLI";s:1:"1";s:12:"rpstPostIncl";s:7:"nxsi0li";s:8:"postType";s:1:"A";s:10:"SNAPformat";s:41:"New post has been published on %SITENAME%";s:11:"SNAPformatT";s:18:"New Post - %TITLE%";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";s:0:"";s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";s:0:"";s:11:"isPrePosted";s:1:"1";s:12:"liMsgFormatT";s:18:"New Post - %TITLE%";s:2:"do";s:1:"1";}}";'
  - 's:387:"a:1:{i:0;a:12:{s:4:"doLI";s:1:"1";s:12:"rpstPostIncl";s:7:"nxsi0li";s:8:"postType";s:1:"A";s:10:"SNAPformat";s:41:"New post has been published on %SITENAME%";s:11:"SNAPformatT";s:18:"New Post - %TITLE%";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";s:0:"";s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";s:0:"";s:11:"isPrePosted";s:1:"1";s:12:"liMsgFormatT";s:18:"New Post - %TITLE%";s:2:"do";s:1:"1";}}";'
snapFB:
  - 's:332:"a:1:{i:0;a:11:{s:4:"doFB";s:1:"1";s:12:"rpstPostIncl";s:7:"nxsi0fb";s:8:"postType";s:1:"I";s:10:"AttachPost";s:1:"2";s:10:"SNAPformat";s:51:"New post (%TITLE%) has been published on %SITENAME%";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";s:0:"";s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";s:0:"";s:11:"isPrePosted";s:1:"1";s:2:"do";s:1:"1";}}";'
  - 's:332:"a:1:{i:0;a:11:{s:4:"doFB";s:1:"1";s:12:"rpstPostIncl";s:7:"nxsi0fb";s:8:"postType";s:1:"I";s:10:"AttachPost";s:1:"2";s:10:"SNAPformat";s:51:"New post (%TITLE%) has been published on %SITENAME%";s:9:"isAutoImg";s:1:"A";s:8:"imgToUse";s:0:"";s:9:"isAutoURL";s:1:"A";s:8:"urlToUse";s:0:"";s:11:"isPrePosted";s:1:"1";s:2:"do";s:1:"1";}}";'
post_views_count:
  - 1
  - 1
dsq_thread_id:
  - 5443271468
  - 5443271468
categories:
  - Tech Notes

---
<p id="jkmtOOx">
  <img class="alignnone size-full wp-image-851 " src="http://javahabit.com/wp-content/uploads/2015/12/img_567ec7e2df01a.png" alt="" />
</p>

I am learning about Apache Storm and the guide had long and winding instructions on how to install [Apache Storm][1].  I installed the single node using brew and it was a breeze. I did not had to spend time figuring out out if I was installing latest version.

Pre-requisites:

Make sure that you have &#8216;[HomeBrew][2]&#8216; installed. One reason that I prefer &#8216;brew&#8217; is that I do not have to remember where things are installed and brew manages and fixes any updates that have been introduced. It also makes installation and uninstall super easy. Everything this is saved under

##### /url/local/Cellar.

#### Step 1: Install Zookeeper

> &#8216; brew install zookeeper&#8217;

After the installation is complete, you will see this message.

> <span style="color: #008000;">To have launchd start zookeeper at login:</span>
  
>  <span style="color: #008000;">ln -sfv /usr/local/opt/zookeeper/*.plist ~/Library/LaunchAgents</span>
  
> <span style="color: #008000;">Then to load zookeeper now:</span>
  
>  <span style="color: #008000;">launchctl load ~/Library/LaunchAgents/homebrew.mxcl.zookeeper.plist</span>
  
> <span style="color: #008000;">Or, if you don&#8217;t want/need launchctl, you can just run:</span>
  
>  <span style="color: #008000;">zkServer start</span>
> 
> I prefer not to launch zookeeper at login as it will sow down my mac login. So I prefer to start and stop Zookeeper using the command-
  
> &#8216;**zkServer start/stop&#8217;**

#### Step 2: Install [ZeroMQ][3]

&#8216;brew install zeromq&#8217;

#### Step 3: Install Apache storm

&#8216;brew install storm&#8217;

This above command will install everything in Cellar folder and will have a symlink in **&#8216;/usr/local/opt/storm&#8217;** folder.

#### Step 4: Update the storm config file storm.yaml.

This file will be in **/usr/local/opt/storm/libexec/conf** folder.
  
After opening this file you will see that everything is commented out. So we will add the following.

> <span style="color: #008000;">storm.zookeeper.servers:</span>
  
>  <span style="color: #008000;">&#8211; &#8220;localhost&#8221;</span>
  
> <span style="color: #008000;"># &#8211; &#8220;server2&#8221;</span>
  
> <span style="color: #008000;">#</span>
  
> <span style="color: #008000;">nimbus.host: &#8220;localhost&#8221;</span>
  
> <span style="color: #008000;">nimbus.thrift.port: 6627</span>
  
> <span style="color: #008000;">ui.port: 8772</span>
  
> <span style="color: #008000;">storm.local.dir: &#8220;/Users/dinesharora/storm/data&#8221;</span>
  
> <span style="color: #008000;">java.library.path: /usr/lib/jvm&#8221;</span>
  
> <span style="color: #008000;">supervisor.slots.ports:</span>
  
> <span style="color: #008000;">&#8211; 6700</span>
  
> <span style="color: #008000;">&#8211; 6701</span>
  
> <span style="color: #008000;">&#8211; 6702</span>
  
> <span style="color: #008000;">&#8211; 6703</span>

If you will notice that I have added &#8220;storm.local.dir&#8221;. Make sure that whatever folder you create, they have the right permissions because I initially added &#8220;**/home/user/storm/data**&#8221; and did not realize that you cannot create any directory under &#8220;**/home**&#8221; folder. This was causing issues when I started nimbus and supervisor.

#### Step 5: start zookeeper, nimbus, supervisor and ui

Below are the location on shell scripts. Start them in the given sequence

> <span style="color: #008000;">&#8216;zkServer start&#8217;</span>
  
> <span style="color: #008000;">&#8216;/usr/local/opt/storm/libexec/bin/storm nimbus&#8217;</span>
  
> <span style="color: #008000;">&#8216;/usr/local/opt/storm/libexec/bin/storm supervisor&#8217;</span>
  
> <span style="color: #008000;">&#8216;/usr/local/opt/storm/libexec/bin/storm ui&#8217;</span>

**Step 6: Check that everything is running smoothly.**

To do that run the below command.
  
<span style="color: #008000;">&#8216;jps&#8217;</span>

The above command should give the following result.

> <span style="color: #008000;">Dineshs-MBP:bin dinesharora$ jps</span>
  
> <span style="color: #008000;">5282 supervisor</span>
  
> <span style="color: #008000;">5267 nimbus</span>
  
> <span style="color: #008000;">5460 core</span>
  
> <span style="color: #008000;">5735 Jps</span>
  
> <span style="color: #008000;">4235 QuorumPeerMain</span>

#### Step 7: Check the server index page. Access the url &#8211; &#8216;http://localhost:8772/index.html&#8217;.

If you are able to access the page then your installation is successful.

&nbsp;

P.S. If you upgraded to new OSX &#8211; El Captain then you might have issues with brew itself. Do yourself a favor and reinstall brew again.

&nbsp;

~ Stir a storm

 [1]: http://storm.apache.org/
 [2]: http://brew.sh/
 [3]: http://zeromq.org/