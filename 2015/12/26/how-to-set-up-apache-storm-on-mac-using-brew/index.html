
<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.53" />

    
    
    

<title>How to set up Apache Storm on mac using brew • A Morsel Of Code</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to set up Apache Storm on mac using brew"/>
<meta name="twitter:description" content="I am learning about Apache Storm and the guide had long and winding instructions on how to install Apache Storm. I installed the single node using brew and it was a breeze. I did not had to spend time figuring out out if I was installing latest version.
Pre-requisites:
Make sure that you have &#8216;HomeBrew&#8216; installed. One reason that I prefer &#8216;brew&#8217; is that I do not have to remember where things are installed and brew manages and fixes any updates that have been introduced."/>

<meta property="og:title" content="How to set up Apache Storm on mac using brew" />
<meta property="og:description" content="I am learning about Apache Storm and the guide had long and winding instructions on how to install Apache Storm. I installed the single node using brew and it was a breeze. I did not had to spend time figuring out out if I was installing latest version.
Pre-requisites:
Make sure that you have &#8216;HomeBrew&#8216; installed. One reason that I prefer &#8216;brew&#8217; is that I do not have to remember where things are installed and brew manages and fixes any updates that have been introduced." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/2015/12/26/how-to-set-up-apache-storm-on-mac-using-brew/" /><meta property="article:published_time" content="2015-12-26T17:02:46&#43;00:00"/>
<meta property="article:modified_time" content="2015-12-26T17:02:46&#43;00:00"/>



<link rel="canonical" href="/2015/12/26/how-to-set-up-apache-storm-on-mac-using-brew/" />

<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="icon" href="/favicon.ico" type="image/x-icon">





<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allerta+Stencil">

<link rel="stylesheet" href="/css/w3.css" />


<link rel="stylesheet" href="/css/style.css" />







  
  
</head>
<body }

class="w3-light-grey">



    <header id="header">
      
          
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-47631412-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());

  gtag('config', 'UA-47631412-1');
</script>

<div class="w3-right ">
<div class="w3-bar w3-light-grey  ">
  
  <span class="w3-bar-item w3-left " id="google_translate_element"></span>
<script>
  function googleTranslateElementInit() {
    new google.translate.TranslateElement(
      {
          pageLanguage: 'en'
        , layout: google.translate.TranslateElement.FloatPosition.TOP_RIGHT
        , multilanguagePage: true
      }
      , 'google_translate_element'
    );
  }
</script>
<script async src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>


  
       <a href="javascript:void(0)" class="w3-bar-item w3-button w3-hover-green" title="Search" onclick="displaysearch()"><i class="fa fa-search"></i></a>
  
      <span class="w3-hide-small">

        <a href="mailto:dinesh19aug@gmail.com" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-envelope"></i></a>

        <a href="https://stackoverflow.com/users/1172194/dinesh-arora" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-stack-overflow"></i></a>

        <a href="https://twitter.com/dinesh19aug" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-twitter"></i></a>

        <a href="https://github.com/dinesh19aug" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-github"></i></a>

        <a href="https://www.linkedin.com/in/dinesharora" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-linkedin"></i></a>

        <a href="https://github.com/dinesh19aug" class="w3-bar-item w3-button w3-hover-green"><i class="fa fa-github"></i></a>

      </span>

</div>
</div>
<br>
  <div class="w3-content">

  <div class="w3-container w3-center w3-padding-32 w3-hide-small">
      <h1 class="w3-xxxlarge w3-text-blue w3-wide w3-allerta  " style="text-shadow:1px 1px 0 #444" ><u>
      
         A Morsel Of Code - One Byte At A Time
      
</u></h1>

    </div>
    <div class="w3-content w3-center">
    <div class="w3-bar w3-light-grey w3-border">
    <a href="/" class="w3-bar-item w3-button w3-large w3-green"><i class="fa fa-home"></i></a>
    
      <a href="/categories/" class="w3-bar-item w3-button w3-hide-small">Categories</a>
    
      <a href="/tags/" class="w3-bar-item w3-button w3-hide-small">Tags</a>
    


    <a href="javascript:void(0)" class="w3-bar-item w3-button w3-right w3-hide-large w3-hide-medium" onclick="displaymenu()">&#9776;</a>
  </div>

<div id="mobilemenu" class="w3-bar-block w3-light-grey w3-hide w3-hide-large w3-hide-medium">
  
      <a href="/categories/" class="w3-bar-item w3-button">Categories</a>
      
      <a href="/tags/" class="w3-bar-item w3-button">Tags</a>
      

</div>
</div>
</div>
<script>
function displaymenu() {
    var x = document.getElementById("mobilemenu");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else {
        x.className = x.className.replace(" w3-show", "");
    }
}
</script>



  <div id="searchOverlay" class="overlay w3-hide">
    <span class="closebtn" onclick="displaysearch()" title="Close Overlay">×</span>
    <div class="overlay-content">
        <form action="/search/">
          <input type="text" placeholder="Search.." name="q">
          <button type="submit"><i class="fa fa-search"></i></button>
        </form>
    </div>
  </div>

  <script>
  function displaysearch() {
    var x = document.getElementById("searchOverlay");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else {
        x.className = x.className.replace(" w3-show", "");
    }

  }


  </script>





    <hr class="headfoot">

      
    </header>

<div class="w3-content">

      <div>
        <div id="content" >
          
    

      <div id="toc" class="w3-dropdown-hover w3-hide-small w3-hide-medium">
    <button class="w3-button w3-teal w3-xlarge">&#9776;</button>
    <div class="w3-dropdown-content w3-bar-block w3-border" style="right:0">
         
          <h3 class="w3-center">Contents </h3>
            <nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#url-local-cellar">/url/local/Cellar.</a></li>
</ul></li>
<li><a href="#step-1-install-zookeeper">Step 1: Install Zookeeper</a></li>
<li><a href="#step-2-install-zeromq-3">Step 2: Install <a href="http://zeromq.org/">ZeroMQ</a></a></li>
<li><a href="#step-3-install-apache-storm">Step 3: Install Apache storm</a></li>
<li><a href="#step-4-update-the-storm-config-file-storm-yaml">Step 4: Update the storm config file storm.yaml.</a></li>
<li><a href="#step-5-start-zookeeper-nimbus-supervisor-and-ui">Step 5: start zookeeper, nimbus, supervisor and ui</a></li>
<li><a href="#step-7-check-the-server-index-page-access-the-url-8211-8216-http-localhost-8772-index-html-8217">Step 7: Check the server index page. Access the url &#8211; &#8216;<a href="http://localhost:8772/index.html&amp;#8217">http://localhost:8772/index.html&amp;#8217</a>;.</a></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</nav>
         
      </div>

     
      </div>
    

 
     


  <div class="w3-content w3-card-4" >
    
    <header class="w3-container w3-center w3-padding-32">
      <h1>How to set up Apache Storm on mac using brew</h1>

      <div >
        <p> 2015-12-26 
          
             <code> 440 words  </code>
             <code> 3 mins read </code>
          
        </p>
        <div >
            
              <a class="w3-btn w3-small w3-round w3-green" href="/categories/tech-notes/"> Tech Notes </a>
            
          </div>
       
        
      </div>
    </header>

   
    
    <div class="w3-container">
      
        

        
        

        
          
          
          

<p id="jkmtOOx">
  <img class="alignnone size-full wp-image-851 " src="/placeholder.svg" data-src="http://javahabit.com/wp-content/uploads/2015/12/img_567ec7e2df01a.png" alt="" />
</p>

<p>I am learning about Apache Storm and the guide had long and winding instructions on how to install <a href="http://storm.apache.org/">Apache Storm</a>.  I installed the single node using brew and it was a breeze. I did not had to spend time figuring out out if I was installing latest version.</p>

<p>Pre-requisites:</p>

<p>Make sure that you have &#8216;<a href="http://brew.sh/">HomeBrew</a>&#8216; installed. One reason that I prefer &#8216;brew&#8217; is that I do not have to remember where things are installed and brew manages and fixes any updates that have been introduced. It also makes installation and uninstall super easy. Everything this is saved under</p>

<h5 id="url-local-cellar">/url/local/Cellar.</h5>

<h4 id="step-1-install-zookeeper">Step 1: Install Zookeeper</h4>

<blockquote>
<p>&#8216; brew install zookeeper&#8217;</p>
</blockquote>

<p>After the installation is complete, you will see this message.</p>

<blockquote>
<p><span style="color: #008000;">To have launchd start zookeeper at login:</span></p>

<p><span style="color: #008000;">ln -sfv /usr/local/opt/zookeeper/*.plist ~/Library/LaunchAgents</span></p>

<p><span style="color: #008000;">Then to load zookeeper now:</span></p>

<p><span style="color: #008000;">launchctl load ~/Library/LaunchAgents/homebrew.mxcl.zookeeper.plist</span></p>

<p><span style="color: #008000;">Or, if you don&#8217;t want/need launchctl, you can just run:</span></p>

<p><span style="color: #008000;">zkServer start</span></p>

<p>I prefer not to launch zookeeper at login as it will sow down my mac login. So I prefer to start and stop Zookeeper using the command-</p>

<p>&#8216;<strong>zkServer start/stop&#8217;</strong></p>
</blockquote>

<h4 id="step-2-install-zeromq-3">Step 2: Install <a href="http://zeromq.org/">ZeroMQ</a></h4>

<p>&#8216;brew install zeromq&#8217;</p>

<h4 id="step-3-install-apache-storm">Step 3: Install Apache storm</h4>

<p>&#8216;brew install storm&#8217;</p>

<p>This above command will install everything in Cellar folder and will have a symlink in <strong>&#8216;/usr/local/opt/storm&#8217;</strong> folder.</p>

<h4 id="step-4-update-the-storm-config-file-storm-yaml">Step 4: Update the storm config file storm.yaml.</h4>

<p>This file will be in <strong>/usr/local/opt/storm/libexec/conf</strong> folder.</p>

<p>After opening this file you will see that everything is commented out. So we will add the following.</p>

<blockquote>
<p><span style="color: #008000;">storm.zookeeper.servers:</span></p>

<p><span style="color: #008000;">&#8211; &#8220;localhost&#8221;</span></p>

<p><span style="color: #008000;"># &#8211; &#8220;server2&#8221;</span></p>

<p><span style="color: #008000;">#</span></p>

<p><span style="color: #008000;">nimbus.host: &#8220;localhost&#8221;</span></p>

<p><span style="color: #008000;">nimbus.thrift.port: 6627</span></p>

<p><span style="color: #008000;">ui.port: 8772</span></p>

<p><span style="color: #008000;">storm.local.dir: &#8220;/Users/dinesharora/storm/data&#8221;</span></p>

<p><span style="color: #008000;">java.library.path: /usr/lib/jvm&#8221;</span></p>

<p><span style="color: #008000;">supervisor.slots.ports:</span></p>

<p><span style="color: #008000;">&#8211; 6700</span></p>

<p><span style="color: #008000;">&#8211; 6701</span></p>

<p><span style="color: #008000;">&#8211; 6702</span></p>

<p><span style="color: #008000;">&#8211; 6703</span></p>
</blockquote>

<p>If you will notice that I have added &#8220;storm.local.dir&#8221;. Make sure that whatever folder you create, they have the right permissions because I initially added &#8220;<strong>/home/user/storm/data</strong>&#8221; and did not realize that you cannot create any directory under &#8220;<strong>/home</strong>&#8221; folder. This was causing issues when I started nimbus and supervisor.</p>

<h4 id="step-5-start-zookeeper-nimbus-supervisor-and-ui">Step 5: start zookeeper, nimbus, supervisor and ui</h4>

<p>Below are the location on shell scripts. Start them in the given sequence</p>

<blockquote>
<p><span style="color: #008000;">&#8216;zkServer start&#8217;</span></p>

<p><span style="color: #008000;">&#8216;/usr/local/opt/storm/libexec/bin/storm nimbus&#8217;</span></p>

<p><span style="color: #008000;">&#8216;/usr/local/opt/storm/libexec/bin/storm supervisor&#8217;</span></p>

<p><span style="color: #008000;">&#8216;/usr/local/opt/storm/libexec/bin/storm ui&#8217;</span></p>
</blockquote>

<p><strong>Step 6: Check that everything is running smoothly.</strong></p>

<p>To do that run the below command.</p>

<p><span style="color: #008000;">&#8216;jps&#8217;</span></p>

<p>The above command should give the following result.</p>

<blockquote>
<p><span style="color: #008000;">Dineshs-MBP:bin dinesharora$ jps</span></p>

<p><span style="color: #008000;">5282 supervisor</span></p>

<p><span style="color: #008000;">5267 nimbus</span></p>

<p><span style="color: #008000;">5460 core</span></p>

<p><span style="color: #008000;">5735 Jps</span></p>

<p><span style="color: #008000;">4235 QuorumPeerMain</span></p>
</blockquote>

<h4 id="step-7-check-the-server-index-page-access-the-url-8211-8216-http-localhost-8772-index-html-8217">Step 7: Check the server index page. Access the url &#8211; &#8216;<a href="http://localhost:8772/index.html&amp;#8217">http://localhost:8772/index.html&amp;#8217</a>;.</h4>

<p>If you are able to access the page then your installation is successful.</p>

<p>&nbsp;</p>

<p>P.S. If you upgraded to new OSX &#8211; El Captain then you might have issues with brew itself. Do yourself a favor and reinstall brew again.</p>

<p>&nbsp;</p>

<p>~ Stir a storm</p>

                 
                
         
      
    </div>

    
   

    <div class="w3-container">
    	
      
     
	</div>



  


    
    
    
    
    <br>  
</div>



<div class="w3-container w3-card-2 w3-black">
<div class="w3-row">
  <div class="w3-col l2 m2 s12 w3-center">
  
    <img src="https://avatars3.githubusercontent.com/u/1176242?s=460&amp;v=4" width ="100px" class="w3-circle w3-center w3-margin-top w3-margin-bottom" alt="author" >
   
  </div>
  <div class="w3-col l10 m10 s12 ">
  <div class = "w3-container w3-margin-top">
    
    
  </div>
  </div>
  </div>
</div>

      
    <div class="w3-content" > 
      <div class="w3-bar w3-section">
	     
	      <a  href="/2016/06/16/understanding-java-8-lambda-final-finally-variable/" class="w3-btn w3-text-indigo w3-hover-green">
	          &#10094; Understanding Java 8 Lambda final finally variable
	      </a>
	    
	      <a class="w3-btn w3-right w3-text-indigo w3-hover-green" href="/2015/09/27/waffle-windows-single-sign-on/">
	       Waffle : Windows Single Sign On &#10095;
	      </a>
  	  </div>
    </div>
	
 

  
  
  

      <div id="wrapads">
        <div class="adBanner">
         
        </div>
       </div>
      
      <div id="allowads" class="allowads-overlay">
  
        <div class="allowads-overlay-content">
        <div class="w3-panel w3-pink w3-large">
        

         <p> We notice you're using an adblocker.  If you like our webite please keep us running by whitelisting this site in your ad blocker. We’re serving quality, related ads only. Thank you!</p>
         
          <div class="w3-btn w3-green"  onclick="closeOverlay()">I've whitelisted your website.</div><br>
          <div class="w3-button w3-small"  onclick="closeOverlay()">Not now</div>
        </div>
        </div>
      </div>

      <script>
      function closeOverlay() {
        document.getElementById("allowads").style.width = "0%";
        document.getElementById("wrapads").style.height="1px";
      }

      function detectads() {
      var h = document.getElementById("wrapads").clientHeight;

      if (h==0){ document.getElementById("allowads").style.width = "100%";
      }
      }
      

     
      
      </script>
        </div>
        
          <script>
  shareurl=encodeURIComponent(location.protocol + '//' + location.host + location.pathname);
  sharetitle=encodeURIComponent(document.title);
    
  </script>
<div class="icon-bar">
<script>
document.write( '<a href="javascript:bookmark();" class="bookmark w3-tooltip"><i class="fa fa-bookmark"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green ">Bookmark this page</span></a> ');

document.write( '<a href="http://www.facebook.com/sharer.php?u='+shareurl+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="facebook w3-tooltip"><i class="fa fa-facebook "></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Facebook</span></a> ');

document.write( '<a href="https://twitter.com/share?url='+shareurl+'&amp;text='+sharetitle+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="twitter w3-tooltip"><i class="fa fa-twitter"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Twitter</span></a> ');
document.write( '<a href="https://plus.google.com/share?url='+shareurl+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="google w3-tooltip"><i class="fa fa-google"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Google Plus</span></a>');

document.write( '<a href="http://www.linkedin.com/shareArticle?mini=true&amp;url='+shareurl+'" onclick="window.open(this.href, \'mywin\',\'left=20,top=20,width=500,height=500,toolbar=1,resizable=0\'); return false;" class="linkedin w3-tooltip"><i class="fa fa-linkedin"></i><span style="position:absolute;left:40px;bottom:18px" class="w3-text w3-small w3-tag w3-round w3-green">Share to Linkedin</span></a>');

</script>

<script>
function bookmark(){

if ('sidebar' in window && 'addPanel' in window.sidebar) { 
                window.sidebar.addPanel(location.href,document.title,"");
            } else if(  false) { 
                window.external.AddFavorite(location.href,document.title); 
            } else { 
                alert('Press ' + (navigator.userAgent.toLowerCase().indexOf('mac') != - 1 ? 'Command/Cmd' : 'CTRL') + ' + D to bookmark this page.');
            }
        }

</script>
</div>
        
        
          
  

        

      </div>



    <footer id="footer" >
      <div class="w3-container w3-center w3-padding-32"> 
  
  <hr class="headfoot">
  <p>Powered by <a href="https://gohugo.io">Hugo</a> | Theme - <a href="https://github.com/jesselau76/hugo-w3-simple">Hugo W3 Simple</a>
  </p>
  &copy; <a href="http://javahabit.com">Dinesh Arora</a> 2019 | <a href="https://github.com/dinesh19aug">Github</a> | <a href="https://twitter.com/dinesh19aug">Twitter</a>  | <a href="/index.xml">RSS</a>
  
</div>

    </footer>



  </div>

  

  
    
      <div id="backtotop" class="w3-hide-small w3-hide-medium">

        <button onclick="topFunction()" class="w3-btn w3-red w3-large" style="width:160px">Back To Top
        &rarr;</button>

      </div>

      <script>
        function topFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
      }
      </script>


    
 
    
    <script>

    function isVisible(elem) {

      let coords = elem.getBoundingClientRect();

      let windowHeight = document.documentElement.clientHeight;

      
      let topVisible = coords.top > 0 && coords.top < windowHeight;
      let bottomVisible = coords.bottom < windowHeight && coords.bottom > 0;

      return topVisible || bottomVisible;
    }



    function showVisible() {
      for (let img of document.querySelectorAll('img')) {
        let realSrc = img.dataset.src;
        if (!realSrc) continue;

        if (isVisible(img)) {


          img.src = realSrc;

          img.dataset.src = '';
        }
      }
      if ( Array.from(document.querySelectorAll('[data-src]')).every(
        img => img.getAttribute('data-src') === '') ) {
        window.removeEventListener('scroll', showVisible)
      }

    }

    window.addEventListener('scroll', showVisible);
    showVisible();
  </script>


    
    
      <div class="progress-container" id="scrollbar">
        <div class="progress-bar" id="progress-bar"></div>
      </div>


    
<script>

window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  <!-- TOC -->
    

    if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
        document.getElementById("toc").style.display = "block";
    } else {
        document.getElementById("toc").style.display = "none";
    }
    
    <!-- cookie bar -->
    
<!-- Back to top -->
    
    if (document.body.scrollTop > 50 || document.documentElement.scrollTop > 50) {
        document.getElementById("backtotop").style.display = "block";
    } else {
        document.getElementById("backtotop").style.display = "none";
    }
    
    <!-- scroll indicator -->
    
      var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
      var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      var scrolled = (winScroll / height) * 100;
      document.getElementById("progress-bar").style.width = scrolled + "%";
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            document.getElementById("scrollbar").style.display = "block";
        } else {
            document.getElementById("scrollbar").style.display = "none";
        }


    

    <!-- allowads -->
    
       if (document.body.scrollTop > 2000 || document.documentElement.scrollTop > 2000) {
          detectads();
       }

    
}


</script>



  

</body>
</html>
